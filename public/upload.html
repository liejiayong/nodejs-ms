<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
        <script src="https://unpkg.com/vue-router@3.5.1/dist/vue-router.js"></script>
        <!-- 引入样式 -->
        <link
            rel="stylesheet"
            href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
        />
        <!-- 引入组件库 -->
        <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    </head>
    <body>
        <div id="app">
            <el-upload
                class="upload-demo"
                drag
                action="http://localhost:3888/upload/"
                :on-success="handleAvatarSuccess"
                multiple
            >
                <i class="el-icon-upload"></i>
                <div class="el-upload__text">
                    将文件拖到此处，或<em>点击上传</em>
                </div>
                <div class="el-upload__tip" slot="tip">
                    只能上传jpg/png文件，且不超过500kb
                </div>
            </el-upload>
            <img v-if="imageUrl" :src="imageUrl" width="300" />
        </div>

        <script type="module">
            const Home = {
                name: "Home",
                template: `
                    x
                `,
            };
            const router = new VueRouter({
                routes: [{ path: "/home", component: Home }],
            });
            let vue = new Vue({
                el: "#app",
                // template: "<router-view/>",
                // router,
                data() {
                    return {
                        imageUrl: "",
                    };
                },
                methods: {
                    handleAvatarSuccess(res, file) {
                        this.imageUrl = URL.createObjectURL(file.raw);
                    },
                },
            });
        </script>
    </body>
</html>
